add_library (lwtr lwtr/lwtr.cpp lwtr/lwtr_text.cpp)
target_include_directories(lwtr PUBLIC ${CMAKE_CURRENT_LIST_DIR})
if(TARGET SystemC::systemc)
	if(USE_CWR_SYSTEMC)
		get_target_property(INCLS SystemC::systemc INTERFACE_INCLUDE_DIRECTORIES)
		get_target_property(DIRS SystemC::systemc INTERFACE_LINK_DIRECTORIES)
		get_target_property(LIBS SystemC::systemc INTERFACE_LINK_LIBRARIES)
    	target_include_directories (${PROJECT_NAME} PUBLIC ${INCLS})    
		target_link_directories(${PROJECT_NAME} PUBLIC ${DIRS})
		target_link_libraries(${PROJECT_NAME} PUBLIC ${LIBS})
	else()
		target_link_libraries(${PROJECT_NAME} PUBLIC SystemC::systemc)
	endif()
else()
	target_compile_definitions(${PROJECT_NAME} PUBLIC ${SystemC_DEFINITIONS})
	target_include_directories (${PROJECT_NAME} PUBLIC ${SystemC_INCLUDE_DIRS})
	if(SystemC_LIBRARY_DIRS)
		target_link_directories(${PROJECT_NAME} PUBLIC ${SystemC_LIBRARY_DIRS})
	endif()
	target_link_libraries(${PROJECT_NAME} PUBLIC ${SystemC_LIBRARIES})
endif()
target_link_libraries (lwtr PUBLIC fmt::fmt Boost::boost)

